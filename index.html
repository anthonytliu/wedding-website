<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anthony & Mahal's Wedding</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
    </script>
    <script type="text/javascript">
        (function () {
            emailjs.init({
                publicKey: "BsCLOP3B4Q49mXa-N",
            });
        })();
    </script>

</head>

<body>
    <img class="need-heading" src="manthanol.png" />
    <!-- <div class="credit">
        <p class="credit-text">
            Illustration by George Kikugawa
        </p>
    </div> -->
    <div class="central-body">
        <h1>Anthony & Mahal's Wedding</h1>

        <!-- <div class="tabs">
            <button class="tablink" onclick="openTab('save-the-date')">Save the Date</button>
            <button class="tablink" onclick="openTab('details')">Details</button>
            <button class="tablink" onclick="openTab('faqs')">FAQs</button>
        </div> -->

        <div id="save-the-date" class="tabcontent">

            <p class="faq-intro">We're getting married!</p>
            <p class="faq-invite">We’re hosting an intimate and interactive wedding gathering. We invite you to engage
                with us fully.</p>
            <p class="faq-invite">Here's an overview of your journey to our wedding day:</p>

            <ul class="faq-list">
                <li>Winter 2025: Receive the save-the-date: You’ve received the save-the-date
                    because we are inviting our most favorite family and friends to our gathering. Now, review this
                    website and complete the questionnaire below to confirm interest in attending.</li>
                <li>Spring 2025: Receive the formal invitation: In a couple of months, you’ll receive a
                    formal invitation in the mail with a draft wedding day agenda, requests for what to bring,
                    and FAQs. Then, you’ll RSVP so that we know who is joining.</li>
                <li>Summer 2025: Prepare to engage in the wedding (more details to follow!) and then
                    join our wedding day on August 8, 2025.
                </li>
            </ul>
 
            <!-- Hidden message if the user clicks No -->
            <!-- <p id="no-message" style="display:none; margin-top: 20px;">Thank you for your honesty. Feel free to contact
                us with any questions!</p> -->

            <p class="faq-invite">Please spend at least 25 minutes thoughtfully filling out the form below. Your responses will
                inform our wedding agenda, including: icebreakers, conversation prompts, and assigned
                seating. Please call or text us if you have any questions. <br><br>
                <u>Please complete this form by February 14, 2025 to receive an invitation.</u>
               
            </p>

            <form id="saveTheDateForm">
                <p id="name">What is your full name?</p>
                <textarea id="name" class="horizontal-scrollbox" placeholder="Please type your full name"
                    required></textarea>
                <span id="name-error" class="error-message"></span>
                <script>
                    const nameInput = document.getElementById('name');
                    const nameError = document.getElementById('name-error');

                    nameInput.addEventListener('blur', () => {
                        const nameValue = nameInput.value.trim();
                        const nameIsValid = nameValue.split(/\s+/).length > 1;
                        if (!nameIsValid) {
                            nameError.textContent = "Please type your full name";
                        } else {
                            nameError.textContent = ""; // Clear the error message if there's text
                        }
                    });
                </script>
                <p>1. We spent our first date talking through <a href="https://www.werenotreallystrangers.com/"
                        target="_blank" rel="noopener noreferrer" class="unstyled-link">We're Not Really Strangers</a>
                    prompts, a gift from Andi Casad (Mahal’s best friend). We included one of the prompts in each of
                    your save-the-date letters. Which question did you receive? </p>
                <textarea id="question-box" class="medium-scrollable-textbox" placeholder="Please enter your question"
                    required></textarea>
                <span id="question-box-error" class="error-message"></span>

                <script>
                    const questionInput = document.getElementById('question-box');
                    const questionError = document.getElementById('question-box-error');

                    questionInput.addEventListener('blur', () => {
                        const questionValue = questionInput.value.trim().length; // Remove the parentheses
                        if (questionValue === 0) { // Check if the input is empty
                            questionError.textContent = "Please type your question above.";
                        } else {
                            questionError.textContent = ""; // Clear error message if valid
                        }
                    });
                </script>

                <p>What is your response to the prompt? If the question asks for one word, please answer with many
                    words. If the question refers to an “us”, direct the question at anyone in your life, but specify
                    who you chose in your response. <strong>Please explain your answer.</strong></p>
                <textarea id="question-answer-box" class="scrollable-textbox" placeholder="Please type your answer here"
                    required></textarea>
                <div id="word-count" class="word-count">0/50</div>
                <span id="question-answer-box-error" class="error-message"></span>
                <script>
                    const questionAnswerBox = document.getElementById('question-answer-box');
                    const wordCountDisplay = document.getElementById('word-count');
                    const questionAnswerBoxError = document.getElementById('question-answer-box-error');

                    // Function to count words
                    function countWords(text) {
                        return text
                            .replace(/\s+/g, ' ') // Replace multiple spaces with one
                            .trim() // Trim leading and trailing whitespace
                            .split(' ') // Split by spaces
                            .filter(word => word.length > 1) // Ignore single-character "words"
                            .length;
                    }

                    // Function to update word count
                    function updateWordCount() {
                        const wordCount = countWords(questionAnswerBox.value);
                        wordCountDisplay.textContent = `${wordCount}/50`; // Update word count display
                    }

                    // Event listener for real-time word count
                    questionAnswerBox.addEventListener('input', updateWordCount);

                    // Validate only on blur (when user clicks away)
                    questionAnswerBox.addEventListener('blur', () => {
                        if (countWords(questionAnswerBox.value) < 50) {
                            questionAnswerBoxError.textContent = `Your response is too short`;
                        } else {
                            questionAnswerBoxError.textContent = ''; // Clear error message
                        }
                    });

                    // Hide the error message when the text box is focused (typing starts)
                    questionAnswerBox.addEventListener('focus', () => {
                        questionAnswerBoxError.textContent = ''; // Clear error message when focusing on the text box
                    });
                </script>


                <p>2. We think the people in our lives are really interesting. We love talking about our loved ones. Please
                    share three fun family-friendly facts about yourself:</p>

                <div class="fact-container">
                    <textarea id="fact-1" class="horizontal-scrollbox" placeholder="Fun Fact 1" required></textarea>
                    <span id="fact-1-error" class="error-message"></span>
                </div>

                <div class="fact-container">
                    <textarea id="fact-2" class="horizontal-scrollbox" placeholder="Fun Fact 2" required></textarea>
                    <span id="fact-2-error" class="error-message"></span>
                </div>

                <div class="fact-container">
                    <textarea id="fact-3" class="horizontal-scrollbox" placeholder="Fun Fact 3" required></textarea>
                    <span id="fact-3-error" class="error-message"></span>
                </div>

                <p>3. Please share a recipe to a dish that you associate with love (links are ok!):</p>
                <textarea id="recipe-box" class="medium-scrollable-textbox"
                    placeholder="My aunt's rich, savory beef casarecce..." required></textarea>
                <span id="recipe-box-error" class="error-message"></span>

                <script>
                    const recipeInput = document.getElementById('recipe-box');
                    const recipeError = document.getElementById('recipe-box-error');

                    recipeInput.addEventListener('blur', () => {
                        const recipeValue = recipeInput.value.trim().length; // Get the length of the trimmed input
                        if (recipeValue === 0) { // Check if the input is empty
                            recipeError.textContent = "Please share your recipe or a URL to the recipe"; // Display error message
                        } else {
                            recipeError.textContent = ""; // Clear error message if valid
                        }
                    });
                </script>

                <p id="love-feeling-box-title">4. When was the first time you felt especially loved?</p>
                <textarea id="love-feeling-box" class="scrollable-textbox" placeholder="Please share your story"
                    required></textarea>
                <span id="love-feeling-word-count" class="word-count">0/50</span>
                <span id="love-feeling-error" class="error-message"></span>


                <script>
                    const loveFeelingTextbox = document.getElementById('love-feeling-box');
                    const loveFeelingWordCount = document.getElementById('love-feeling-word-count');
                    const loveFeelingError = document.getElementById('love-feeling-error');

                    // Function to count words
                    function countWords(text) {
                        return text
                            .replace(/\s+/g, ' ') // Replace multiple spaces with one
                            .trim() // Trim leading and trailing whitespace
                            .split(' ') // Split by spaces
                            .filter(word => word.length > 1) // Ignore single-character "words"
                            .length;
                    }

                    // Function to update word count
                    function updateWordCount() {
                        const wordCount = countWords(loveFeelingTextbox.value);
                        loveFeelingWordCount.textContent = `${wordCount}/50`; // Update word count display
                    }

                    // Event listener for real-time word count
                    loveFeelingTextbox.addEventListener('input', updateWordCount);

                    // Validate only on blur (when user clicks away)
                    loveFeelingTextbox.addEventListener('blur', () => {
                        if (countWords(loveFeelingTextbox.value) < 50) {
                            loveFeelingError.textContent = "Your text must be at least 50 words."; // Show error message
                        } else {
                            loveFeelingError.textContent = ''; // Clear error message
                        }
                    });

                    // Hide the error message when the text box is focused (typing starts)
                    loveFeelingTextbox.addEventListener('focus', () => {
                        loveFeelingError.textContent = ''; // Clear error message when focusing on the text box
                    });
                </script>

                <p id="love-most-box-title">5. What do you love the most right now?</p>
                <textarea id="love-most-box" class="scrollable-textbox" placeholder="Please share your thoughts"
                    required></textarea>
                <span id="love-most-word-count" class="word-count">0/50</span>
                <span id="love-most-error" class="error-message"></span>
                <script>
                    const loveMostTextbox = document.getElementById('love-most-box');
                    const loveMostWordCount = document.getElementById('love-most-word-count');
                    const loveMostError = document.getElementById('love-most-error');

                    // Function to count words
                    function countWords(text) {
                        return text
                            .replace(/\s+/g, ' ') // Replace multiple spaces with one
                            .trim() // Trim leading and trailing whitespace
                            .split(' ') // Split by spaces
                            .filter(word => word.length > 1) // Ignore single-character "words"
                            .length;
                    }

                    // Function to update word count
                    function updateWordCount() {
                        const wordCount = countWords(loveMostTextbox.value);
                        loveMostWordCount.textContent = `${wordCount}/50`; // Update word count display
                    }

                    // Event listener for real-time word count
                    loveMostTextbox.addEventListener('input', updateWordCount);

                    // Validate only on blur (when user clicks away)
                    loveMostTextbox.addEventListener('blur', () => {
                        if (countWords(loveMostTextbox.value) < 50) {
                            loveMostError.textContent = "Your text must be at least 50 words."; // Show error message
                        } else {
                            loveMostError.textContent = ''; // Clear error message
                        }
                    });

                    // Hide the error message when the text box is focused (typing starts)
                    loveMostTextbox.addEventListener('focus', () => {
                        loveMostError.textContent = ''; // Clear error message when focusing on the text box
                    });
                </script>

                <p>6. What are your favorite love songs? Please include artists.</p>
                <textarea id="song-movie-box" class="medium-scrollable-textbox" placeholder="'At Last' by Etta James"
                    required></textarea>
                <span id="song-movie-box-error" class="error-message"></span>

                <script>
                    const songMovieInput = document.getElementById('song-movie-box');
                    const songMovieError = document.getElementById('song-movie-box-error');

                    songMovieInput.addEventListener('blur', () => {
                        const questionValue = songMovieInput.value.trim().length; // Remove the parentheses
                        if (questionValue === 0) { // Check if the input is empty
                            songMovieError.textContent = "Please type your response above.";
                        } else {
                            songMovieError.textContent = ""; // Clear error message if valid
                        }
                    });
                </script>


                <p>7. What is a piece of wisdom that has carried you through life?</p>
                <textarea id="wisdom-box" class="medium-scrollable-textbox"
                    placeholder="The path to wisdom is paved with humility." required></textarea>
                <span id="wisdom-box-error" class="error-message"></span>

                <script>
                    const wisdomInput = document.getElementById('wisdom-box');
                    const wisdomError = document.getElementById('wisdom-box-error');

                    wisdomInput.addEventListener('blur', () => {
                        const questionValue = wisdomInput.value.trim().length; // Remove the parentheses
                        if (questionValue === 0) { // Check if the input is empty
                            wisdomError.textContent = "Please type your response above.";
                        } else {
                            wisdomError.textContent = ""; // Clear error message if valid
                        }
                    });
                </script>

                <p>8. Do you have any questions for us about our wedding?</p>
                <textarea id="wedding-questions-box" class="medium-scrollable-textbox"
                    placeholder="There are no dumb questions!" required></textarea>
                <span id="wedding-questions-box-error" class="error-message"></span>

                




                <p id="understand-statement">By hitting submit, you are confirming you’ve thoughtfully completed this questionnaire to the best of your abilities.</p>
                <!-- <div>
                    <button type="button" class="option-button" id="understand-positive-button"
                        onclick="toggleSelection(this, 'yes'); handleUnderstandClick('yes')">Yes</button>
                    <button type="button" class="option-button" id="understand-positive-button"
                        onclick="toggleSelection(this, 'no'); handleUnderstandClick('no')">No</button>
                </div> -->
                <!-- <p id="confirmation-message" style="display:none;"></p>
                <div id="follow-up" class="fade" style="display: none;">
                    <p>Would you like formally accept this save-the-date and receive the formal invitation and wedding
                        details?</p>
                    <div>
                        <button type="button" class="option-button" id="engage-positive-button"
                            onclick="toggleSelection(this, 'yes'); handleAgreeClick('yes')">Yes</button>
                        <button type="button" class="option-button" id="engage-negative-button"
                            onclick="toggleSelection(this, 'no'); handleAgreeClick('no')">No</button>
                    </div>
                </div>
                <p id="engage-message" style="display:none;"></p>
                <div id="signature-box" class="fade" style="display:none;">
                    <p>Please sign below in acknowledgement that you’ve reviewed this page in its entirety.</p>
                    <canvas id="signature-pad" width="600" height="200"></canvas>
                    <br>
                    <button type="button" class="clear-button" id="clear-signature">Clear</button>
                </div> -->
                <div class="submit-container" id="submit">
                    <button type="submit" id="submit-btn">Submit</button>
                </div>


            </form>

            <div class="spinner-overlay" id="spinnerOverlay">
                <div id="loading-spinner" class="spinner"></div>
            </div>
            <!-- Loading spinner (initially hidden) -->

            <!-- Thank You message (initially hidden) -->
            <p id="thank-you-message" style="display: none;">Thank you! Your response has been submitted.</p>

        </div>

        <!--    TBD    -->
        <!-- <div id="details" class="tabcontent" style="display:none;">
            <p class="faq-intro">We are hosting an intimate wedding to mark our commitment to one another.</p>

            <p class="faq-invite">We invite you to engage with us fully:</p>

            <ul class="faq-list">
                <li>You will complete a short questionnaire about love to help shape our wedding agenda.</li>
                <li>You will commit to participating in activities to build connections within our community.</li>
                <li>You will stretch beyond your comfort zone to foster more meaningful interactions.</li>
            </ul>
        </div> -->

        <!-- <div id="faqs" class="tabcontent" style="display:none;">
            <h2>FAQs</h2>

            <p class="faq-intro">We are hosting an intimate wedding to mark our commitment to one another.</p>

            <p class="faq-invite">We invite you to engage with us fully:</p>

            <ul class="faq-list">
                <li>You will complete a short questionnaire about love to help shape our wedding agenda.</li>
                <li>You will commit to participating in activities to build connections within our community.</li>
                <li>You will stretch beyond your comfort zone to foster more meaningful interactions.</li>
            </ul>
        </div> -->

        <img src="birdsw.svg" />
        <div class="credit">
            <p class="credit-text">
                "Anthony and Mahal" by George Kikugawa (Age 7), "Tandem Lovebirds" by Anthony Liu (Age 27)
            </p>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
        <script src="script.js"></script>
    </div>
</body>

</html>